---
title: Surcharges du superviseur IA
description: Découvrez comment remplacer le routage du superviseur IA afin d’imposer une sélection déterministe des agents.
---

Lorsque votre chatbot utilise une configuration multi-agents, le **superviseur IA** détermine automatiquement quel agent orienté utilisateur est le mieux adapté pour traiter la dernière requête.  
Cependant, il peut exister des situations dans lesquelles vous souhaitez disposer d’un contrôle plus **déterministe** sur l’agent qui prend en charge la tâche.

Dans cet article, nous vous montrons comment utiliser les **AI Supervisor Overrides** pour définir des règles logiques qui, une fois remplies, basculent directement vers un agent spécifique.

Dans l’onglet **AI Agents**, vous trouverez un bouton qui déploie les **AI Supervisor Settings** :

<Frame>
  <img src="/images/supervisor-overrides-1.png" />
</Frame>

Après avoir ouvert les paramètres, vous pouvez définir dans l’onglet **Rules** des conditions logiques évaluées à chaque requête utilisateur.  
Lorsqu’une condition est remplie, la décision du superviseur IA est contournée et l’agent défini prend immédiatement en charge le traitement.

Pour ajouter une nouvelle règle, cliquez sur **Create new rule**.  
Pour modifier des règles, ouvrez l’option **Edit** dans le menu à trois points en haut à droite.

<Note>
  Veuillez noter que vous devrez peut-être faire défiler le menu déroulant vers le bas pour voir d’autres options lors de la création de votre règle.
</Note>

Une fois vos règles terminées, assurez-vous de les **Connect** — ce n’est qu’à ce moment-là qu’elles deviennent actives.  
Les règles sont évaluées dans un ordre défini. Dès qu’une règle renvoie **TRUE**, toutes les règles suivantes sont ignorées et celle-ci est immédiatement exécutée.

<Frame>
  <img src="/images/supervisor-overrides-2.png" />
</Frame>

Un bon exemple d’utilisation des AI Supervisor Overrides est la **collecte différée de leads**.  
Imaginons un cas où votre chatbot doit répondre aux FAQ générales, mais ne commencer à collecter les données utilisateur qu’après 2 ou 3 questions.  
Si l’utilisateur refuse de fournir ses données, le chatbot doit néanmoins continuer à l’assister de manière anonyme.

Vous avez d’abord besoin d’une configuration standard de collecte de leads, comme décrit dans l’article [Lead Collection](/lead-collection).  
Une fois cela fait, poursuivez ici.

À ce stade, vous devriez avoir configuré deux agents orientés utilisateur :

<Frame>
  <img src="/images/supervisor-overrides-3.png" />
</Frame>

Ouvrez maintenant les paramètres du superviseur IA et cliquez sur **Create new rule**.  
Dans le menu à trois points en haut à droite, ouvrez **Edit** pour configurer la règle.  
Pour notre cas d’usage, nous définissons la condition suivante :

<Frame>
  <img src="/images/supervisor-overrides-5.png" />
</Frame>

Cela signifie :  
Dès que le **nombre total de requêtes utilisateur** atteint exactement **3**, le superviseur IA définit l’agent actif sur **Lead Collection**.  
Cliquez sur **Save**.

Ensuite, créez une deuxième règle.  
Cette règle est la suivante :

1. Si l’agent actuel est **Lead Collection**,  
2. ET si le nombre de requêtes traitées consécutivement par cet agent est **inférieur à 4**,  
3. ET si l’une des informations utilisateur suivantes **n’a pas été fournie** : nom, e-mail ou numéro de téléphone,  
4. ALORS rester sur l’agent Lead Collection.

Cela signifie :  
L’agent Lead Collection reste actif jusqu’à ce que :

- au moins 4 interactions aient eu lieu, **ou**
- toutes les informations demandées aient été collectées.

En mode édition, sélectionnez **Add Rule** pour ajouter de nouvelles conditions.  
Après l’étape 2, votre règle ressemble à ceci :

<Frame>
  <img src="/images/supervisor-overrides-6.png" />
</Frame>

L’étape 3 nécessite une **condition de groupe**, dont la logique est la suivante :

- Si la variable **user_name** n’est pas renseignée  
- OU si la variable **user_email** n’est pas renseignée  
- OU si la variable **user_phone** n’est pas renseignée  
- ALORS le groupe renvoie TRUE

Nous configurons donc le groupe suivant :

<Frame>
  <img src="/images/supervisor-overrides-7.png" />
</Frame>

Dans ce groupe, cliquez ensuite sur **Add Rule** et définissez les conditions correspondantes :

<Frame>
  <img src="/images/supervisor-overrides-8.png" />
</Frame>

Enfin, assurez-vous que, comme décrit à l’étape 4, l’agent **Lead Collection** est attribué lorsque la règle est exécutée :

<Frame>
  <img src="/images/supervisor-overrides-9.png" />
</Frame>

Connectez vos règles via le menu à trois points avec l’option **Connect**.  
Si l’opération a réussi, chaque règle affichera un statut vert **Active** :

<Frame>
  <img src="/images/supervisor-overrides-10.png" />
</Frame>

Vous pouvez maintenant tester le chatbot avec ces nouveaux overrides dans l’onglet **Preview**.  
Vous devriez constater que le comportement fonctionne comme prévu.  
En mode débogage, une balise **override** apparaît à côté de **Active Agent** lorsqu’une règle d’override est active.

<Frame>
  <img src="/images/supervisor-overrides-11.png" />
</Frame>

Vous pouvez créer des workflows très complexes avec les AI Supervisor Overrides.  
Cependant, comme cette fonctionnalité contrôle directement le fonctionnement du superviseur IA, nous vous recommandons vivement de tester soigneusement votre configuration avant de la mettre en production.
