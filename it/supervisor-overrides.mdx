---
title: Override del supervisore AI
description: Scopri come sovrascrivere il routing del supervisore AI per imporre una selezione deterministica degli agenti.
---

Quando il tuo chatbot utilizza una configurazione multi-agente, il **supervisore AI** determina automaticamente quale agente rivolto all’utente sia più adatto a gestire l’ultima richiesta.  
Tuttavia, possono esserci situazioni in cui desideri avere un controllo più **deterministico** su quale agente debba occuparsi del compito.

In questo articolo ti mostriamo come utilizzare gli **AI Supervisor Overrides** per definire regole logiche che, una volta soddisfatte, passano direttamente a un agente specifico.

Nella scheda **AI Agents** troverai un pulsante che espande le **AI Supervisor Settings**:

<Frame>
  <img src="/images/supervisor-overrides-1.png" />
</Frame>

Dopo aver aperto le impostazioni, puoi definire nella scheda **Rules** condizioni logiche che vengono valutate ogni volta che l’utente invia una richiesta.  
Quando una condizione è soddisfatta, la decisione del supervisore AI viene ignorata e l’agente definito prende immediatamente in carico l’elaborazione.

Per aggiungere una nuova regola, fai clic su **Create new rule**.  
Per modificare le regole, apri l’opzione **Edit** nel menu a tre punti in alto a destra.

<Note>
  Tieni presente che potrebbe essere necessario scorrere verso il basso il menu a discesa per visualizzare altre opzioni durante la creazione della regola.
</Note>

Una volta completate le regole, assicurati di **Connect** — solo allora diventeranno attive.  
Le regole vengono valutate in un ordine prestabilito. Non appena una regola restituisce **TRUE**, tutte le regole successive vengono ignorate e questa viene eseguita immediatamente.

<Frame>
  <img src="/images/supervisor-overrides-2.png" />
</Frame>

Un buon esempio di utilizzo degli AI Supervisor Overrides è la **configurazione ritardata della raccolta dei lead**.  
Immaginiamo un caso in cui il chatbot debba rispondere alle FAQ generiche, ma iniziare a raccogliere i dati degli utenti solo dopo 2 o 3 domande.  
Se l’utente si rifiuta di fornire i dati, il chatbot deve comunque continuare ad assisterlo in modo anonimo.

Per prima cosa, è necessario disporre di una configurazione standard di raccolta dei lead, come descritto nell’articolo [Lead Collection](/lead-collection).  
Una volta completato questo passaggio, prosegui qui.

A questo punto, dovresti aver configurato due agenti rivolti all’utente:

<Frame>
  <img src="/images/supervisor-overrides-3.png" />
</Frame>

Ora apri le AI Supervisor Settings e fai clic su **Create new rule**.  
Nel menu a tre punti in alto a destra, apri **Edit** per configurare la regola.  
Per il nostro caso d’uso, impostiamo la seguente condizione:

<Frame>
  <img src="/images/supervisor-overrides-5.png" />
</Frame>

Questo significa:  
Non appena il **numero totale di richieste dell’utente** raggiunge esattamente **3**, il supervisore AI imposta l’agente attivo su **Lead Collection**.  
Fai clic su **Save**.

Successivamente, crea una seconda regola.  
Questa regola è la seguente:

1. Se l’agente corrente è **Lead Collection**,  
2. E se il numero di richieste elaborate consecutivamente da questo agente è **inferiore a 4**,  
3. E se una delle seguenti informazioni dell’utente **non è stata fornita**: nome, e-mail o numero di telefono,  
4. ALLORA resta sull’agente Lead Collection.

Questo significa:  
L’agente Lead Collection rimane attivo fino a quando:

- si sono verificate almeno 4 interazioni, **oppure**
- sono state raccolte tutte le informazioni richieste.

In modalità di modifica, seleziona **Add Rule** per aggiungere nuove condizioni.  
Dopo il passaggio 2, la tua regola apparirà così:

<Frame>
  <img src="/images/supervisor-overrides-6.png" />
</Frame>

Il passaggio 3 richiede una **condizione di gruppo**, la cui logica è:

- Se la variabile **user_name** non è specificata  
- O la variabile **user_email** non è specificata  
- O la variabile **user_phone** non è specificata  
- ALLORA il gruppo restituisce TRUE

Configuriamo quindi il seguente gruppo:

<Frame>
  <img src="/images/supervisor-overrides-7.png" />
</Frame>

All’interno di questo gruppo, fai clic su **Add Rule** e definisci le relative condizioni:

<Frame>
  <img src="/images/supervisor-overrides-8.png" />
</Frame>

Infine, assicurati che — come descritto nel passaggio 4 — l’agente **Lead Collection** venga assegnato quando la regola viene eseguita:

<Frame>
  <img src="/images/supervisor-overrides-9.png" />
</Frame>

Collega le tue regole tramite il menu a tre punti con l’opzione **Connect**.  
Se l’operazione è andata a buon fine, ogni regola mostrerà uno stato verde **Active**:

<Frame>
  <img src="/images/supervisor-overrides-10.png" />
</Frame>

Ora puoi testare il chatbot con questi nuovi override nella scheda **Preview**.  
Dovresti notare che il comportamento funziona come previsto.  
In modalità debug, accanto a **Active Agent** apparirà un tag **override** quando una regola di override è attiva.

<Frame>
  <img src="/images/supervisor-overrides-11.png" />
</Frame>

Con gli AI Supervisor Overrides puoi creare workflow molto complessi.  
Tuttavia, poiché questa funzione controlla direttamente il funzionamento del supervisore AI, ti consigliamo vivamente di testare accuratamente la configurazione prima di utilizzarla in produzione.
